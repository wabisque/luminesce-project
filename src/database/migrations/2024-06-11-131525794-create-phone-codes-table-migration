-- Up

CREATE TABLE IF NOT EXISTS `phone_codes`
  (
    `id` INT UNSIGNED AUTO_INCREMENT NOT NULL,
    `uuid` VARCHAR(64) NOT NULL,
    `code` VARCHAR(16) NOT NULL,
    `country_id` INT UNSIGNED NOT NULL,
    `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT `phone_codes_id_primary_key` PRIMARY KEY (`id`),
    CONSTRAINT `phone_codes_uuid_unique_key` UNIQUE (`uuid`),
    CONSTRAINT `phone_codes_code_country_id_unique_key` UNIQUE (`code`, `country_id`),
    CONSTRAINT `phone_codes_country_id_foreign_key` FOREIGN KEY (`country_id`) REFERENCES `countries` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
  ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

--- // ---

-- Down

DROP TABLE IF EXISTS `phone_codes`;
