-- Up

CREATE TABLE IF NOT EXISTS `user`
  (
    `id` INT UNSIGNED AUTO_INCREMENT NOT NULL,
    `uuid` VARCHAR(64) NOT NULL,
    `first_name` VARCHAR(255) NOT NULL,
    `last_name` VARCHAR(255) NOT NULL,
    `email` VARCHAR(255) NOT NULL,
    `phone` VARCHAR(15) NOT NULL,
    `password` VARCHAR(64) NOT NULL,
    `phone_code_id` INT UNSIGNED NOT NULL,
    `email_verified_at` TIMESTAMP NULL DEFAULT NULL,
    `phone_verified_at` TIMESTAMP NULL DEFAULT NULL,
    `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    `updated_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT `user_id_primary_key` PRIMARY KEY (`id`),
    CONSTRAINT `user_uuid_unique_key` UNIQUE (`uuid`),
    CONSTRAINT `user_email_unique_key` UNIQUE (`email`),
    CONSTRAINT `user_phone_phone_code_id_unique_key` UNIQUE (`phone`, `phone_code_id`)
  ) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;

--- // ---

-- Down

DROP TABLE IF EXISTS `user`;
